'use strict';var c="undefined"==typeof global?"undefined"===typeof self?{}:self:global,q=String.fromCharCode,r={}.toString,u=c.SharedArrayBuffer,v=u?r.call(u):"",w=c.Uint8Array,x=w?r.call(ArrayBuffer.prototype):"",y=c.Buffer;try{!y&&c.require&&(y=c.require("Buffer"));var z=y.prototype,A=r.call(z)}catch(a){}var B=!!w&&!y,C=/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,D=new Uint16Array(32),E=!y||!!w&&w.prototype.isPrototypeOf(z),G=F.prototype;function H(){}
function I(a){var b=a&&a.buffer||a,e=r.call(b);if(e!==x&&e!==A&&e!==v&&"[object ArrayBuffer]"!==e&&void 0!==a)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");a=E?new w(b):b||[];e=b="";for(var d=0,f=a.length|0,k=f-32|0,p,g,h=0,t=0,m,l=0,n=-1;d<f;){for(p=d<=k?32:f-d|0;l<p;d=d+1|0,l=l+1|0){g=a[d]&255;switch(g>>4){case 15:m=a[d=d+1|0]&255;if(2!==m>>6||247<g){d=d-1|0;break}h=(g&7)<<6|m&63;t=5;g=256;case 14:m=a[d=d+1|0]&
255,h<<=6,h|=(g&15)<<6|m&63,t=2===m>>6?t+4|0:24,g=g+256&768;case 13:case 12:m=a[d=d+1|0]&255,h<<=6,h|=(g&31)<<6|m&63,t=t+7|0,d<f&&2===m>>6&&h>>t&&1114112>h?(g=h,h=h-65536|0,0<=h&&(n=(h>>10)+55296|0,g=(h&1023)+56320|0,31>l?(D[l]=n,l=l+1|0,n=-1):(m=n,n=g,g=m))):(g>>=8,d=d-g-1|0,g=65533),h=t=0,p=d<=k?32:f-d|0;default:D[l]=g;continue;case 11:case 10:case 9:case 8:}D[l]=65533}e+=q(D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8],D[9],D[10],D[11],D[12],D[13],D[14],D[15],D[16],D[17],D[18],D[19],D[20],D[21],
D[22],D[23],D[24],D[25],D[26],D[27],D[28],D[29],D[30],D[31]);32>l&&(e=e.slice(0,l-32|0));if(d<f){if(D[0]=n,l=~n>>>31,n=-1,e.length<b.length)continue}else-1!==n&&(e+=q(n));b+=e;e=""}return b}H.prototype.decode=I;function J(a){var b=a.charCodeAt(0)|0;if(55296<=b&&56319>=b)if(a=a.charCodeAt(1)|0,56320<=a&&57343>=a){if(b=(b<<10)+a-56613888|0,65535<b)return q(240|b>>18,128|b>>12&63,128|b>>6&63,128|b&63)}else b=65533;return 2047>=b?q(192|b>>6,128|b&63):q(224|b>>12,128|b>>6&63,128|b&63)}function F(){}
function K(a){a=void 0===a?"":(""+a).replace(C,J);for(var b=a.length|0,e=B?new w(b):y.allocUnsafe?y.allocUnsafe(b):new y(b),d=0;d<b;d=d+1|0)e[d]=a.charCodeAt(d)|0;return e}
function L(a,b){var e=void 0===a?"":(""+a).replace(C,J),d=e.length|0,f=0,k=0,p=b.length|0,g=a.length|0;p<d&&(d=p);a:for(;f<d;f=f+1|0){a=e.charCodeAt(f)|0;switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:k=k+1|0;case 8:case 9:case 10:case 11:break;case 12:case 13:if((f+1|0)<p){k=k+1|0;break}case 14:if((f+2|0)<p){k=k+1|0;break}case 15:if((f+3|0)<p){k=k+1|0;break}default:break a}b[f]=a}return{written:f,read:g<k?g:k}}G.encode=K;G.encodeInto=L;
function M(a,b){var e=a[b];return function(){return e.apply(a,arguments)}}var N=c.TextDecoder,O=c.TextEncoder,P,Q=L;O&&(P=new O,Q=P.encodeInto?M(P,"encodeInto"):O.prototype.encodeInto=function(a,b){var e=a.length|0,d=b.length|0;if(e<d>>1){var f=P.encode(a);if((f.length|0)<d)return b.set(f),{read:e,written:f.length|0}}return L(a,b)});
var TextDecoder=N||H,TextEncoder=O||F,decode=N?M(new N,"decode"):I,encode=O?M(P,"encode"):K,encodeInto=Q;export{TextDecoder,TextEncoder,decode,encode,encodeInto};//AnonyCo
//# sourceMappingURL=https://cdn.jsdelivr.net/gh/AnonyCo/FastestSmallestTextEncoderDecoder/encodeInto/NodeJS/EncoderAndDecoderNodeJS.min.mjs.map
