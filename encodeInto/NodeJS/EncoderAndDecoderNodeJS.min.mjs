'use strict';var g="undefined"==typeof global?"undefined"===typeof self?{}:self:global,h=String.fromCharCode,k={}.toString,l=g.SharedArrayBuffer,n=l?k.call(l):"",p=g.Uint8Array,q=p?k.call(ArrayBuffer.prototype):"",r=g.Buffer;try{!r&&g.require&&(r=g.require("Buffer"));var t=r.prototype,u=k.call(t)}catch(a){}var v=!!p&&!r,w=!r||!!p&&p.prototype.isPrototypeOf(t),y=x.prototype;
function z(a){var b=a.charCodeAt(0),c=1114112,d=0,e=a.length|0,f="";switch(b>>>4){case 12:case 13:c=(b&31)<<6|a.charCodeAt(1)&63;d=128>c?0:2;break;case 14:c=(b&15)<<12|(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&63;d=2048>c?0:3;break;case 15:30===b>>>3&&(c=(b&7)<<18|(a.charCodeAt(1)&63)<<12|(a.charCodeAt(2)&63)<<6|a.charCodeAt(3),d=65536>c?0:4)}d&&(e<d?d=0:65536>c?f=h(c):1114112>c?(c=c-65664|0,f=h((c>>>10)+55296|0,(c&1023)+56320|0)):d=0);for(;d<e;d=d+1|0)f+="\ufffd";return f}function A(){}
function B(a){var b=a&&a.buffer||a,c=k.call(b);if(c!==q&&c!==u&&c!==n&&"[object ArrayBuffer]"!==c&&void 0!==a)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");a=w?new p(b):b||[];b="";c=0;for(var d=a.length|0;c<d;c=c+32768|0)b+=h.apply(0,a[w?"subarray":"slice"](c,c+32768|0));return b.replace(/[\xc0-\xff][\x80-\xbf]+|[\x80-\xff]/g,z)}A.prototype.decode=B;
function C(a){var b=a.charCodeAt(0)|0;if(55296<=b&&56319>=b)if(a=a.charCodeAt(1)|0,56320<=a&&57343>=a){if(b=(b<<10)+a-56613888|0,65535<b)return h(240|b>>>18,128|b>>>12&63,128|b>>>6&63,128|b&63)}else b=65533;return 2047>=b?h(192|b>>>6,128|b&63):h(224|b>>>12,128|b>>>6&63,128|b&63)}function x(){}
function D(a){a=void 0===a?"":(""+a).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,C);for(var b=a.length|0,c=v?new p(b):r.allocUnsafe?r.allocUnsafe(b):new r(b),d=0;d<b;d=d+1|0)c[d]=a.charCodeAt(d)|0;return c}
function F(a,b){var c=void 0===a?"":(""+a).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,C),d=c.length|0,e=0,f=0,m=b.length|0,E=a.length|0;m<d&&(d=m);a:for(;e<d;e=e+1|0){a=c.charCodeAt(e)|0;switch(a>>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:f=f+1|0;case 8:case 9:case 10:case 11:break;case 12:case 13:if((e+1|0)<m){f=f+1|0;break}case 14:if((e+2|0)<m){f=f+1|0;break}case 15:if((e+3|0)<m){f=f+1|0;break}default:break a}b[e]=a}return{written:e,read:E<f?E:f}}
y.encode=D;y.encodeInto=F;function G(a,b){var c=a[b];return function(){return c.apply(a,arguments)}}var H=g.TextDecoder,I=g.TextEncoder,J,K=F;I&&(J=new I,K=J.encodeInto?G(J,"encodeInto"):I.prototype.encodeInto=function(a,b){var c=a.length|0,d=b.length|0;if(c<d>>1){var e=J.encode(a);if((e.length|0)<d)return b.set(e),{read:c,written:e.length|0}}return F(a,b)});
var TextDecoder=H||A,TextEncoder=I||x,decode=H?G(new H,"decode"):B,encode=I?G(J,"encode"):D,encodeInto=K;export{TextDecoder,TextEncoder,decode,encode,encodeInto};//AnonyCo
//# sourceMappingURL=https://cdn.jsdelivr.net/gh/AnonyCo/FastestSmallestTextEncoderDecoder/encodeInto/NodeJS/EncoderAndDecoderNodeJS.min.mjs.map
